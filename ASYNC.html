<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>

  <script>

    // we can use promise for converting async into sync
    
    /* function getUsers(url) {
      return  new Promise((resolve,reject) =>{
        const xhr = new XMLHttpRequest();
        xhr.addEventListener("readystatechange",()=>{
          try{
            if(xhr.readyState ===4 && xhr.status === 200){
              resolve(JSON.parse(xhr.responseText));
       
          }
          
        }catch (error){
          reject(error);
        }})

        xhr.open("GET", url)
        xhr.send();
        
        }

      )}

      function getUsersComment(url) {
      return  new Promise((resolve,reject) =>{
        
        // we can use fetch api instead of XMLHttpRequest
        const xhr = new XMLHttpRequest();
        xhr.addEventListener("readystatechange",()=>{
          try{
            if(xhr.readyState ===4 && xhr.status === 200){
              resolve(JSON.parse(xhr.responseText));
       
          }
          
        }catch (error){
          reject(error);
        }})

        xhr.open("GET", url)
        xhr.send();
        
        }

      )}

      
        
         
      /* 
     getUsers("https://jsonplaceholder.typicode.com/users/3")
     .then((users) =>{
      return getUsersComment(`https://jsonplaceholder.typicode.com/comments/${users.id}`)
      
    
    }).then((response) =>{console.log(response);})

    .catch((error) =>{
      console.log(error);
    }) */


   /*  const p1 = new Promise((resolve, reject) => {
      resolve("success");
    })
    const p2 = Promise.resolve("success2");
    const p3 = Promise.resolve("success3");
    const p4 = Promise.reject("notSUCCESS");
    
    Promise.all([p1, p2, p3,p4])
    .then((res)=> {console.log(res);})
    .catch((err)=>{console.log(err)})   */


    /* FETCH API */

    /* function getData(url){
      return fetch(url)
     

    }

    getData("data.json")
    .then((response) => {
        return response.json();
      })
      .then((data) => { console.log(data);})
      .catch((err) => {console.log(err);});
 */


 /* ASYNC AWAIT SAVE US FROM PROMISE-THEN BOND */


 async function hello(){
  return await 'hello'
 }
 hello()
 .then((response) => {console.log(response)})
 

  </script>
  
</body>
</html>